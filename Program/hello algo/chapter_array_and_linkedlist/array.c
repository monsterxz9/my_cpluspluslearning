/**
 * File: array.c
 * Created Time: 2022-12-20
 * Author: MolDuM (moldum@163.com)
 */

#include "../include/include.h"

/* ???????????????????? */
int randomAccess(int* nums, int size) {
    // ?????? [0, size) ??????????????????
    int randomIndex = rand() % size;
    // ??????????????????
    int randomNum = nums[randomIndex];
    return randomNum;
}

/* ???????????? */
int* extend(int* nums, int size, int enlarge) {
    // ??????????????????????????
    int* res = (int *)malloc(sizeof(int) * (size + enlarge));
    // ????????????????????????????????
    for (int i = 0; i < size; i++) {
        res[i] = nums[i];
    }
    // ??????????????????
    for (int i = size; i < size + enlarge; i++) {
        res[i] = 0;
    }
    // ??????????????????
    return res;
}

/* ???????????? index ?????????? num */
void insert(int* nums, int size, int num, int index) {
    // ?????? index ??????????????????????????????
    for (int i = size - 1; i > index; i--) {
        nums[i] = nums[i - 1];
    }
    // ?? num ???? index ??????
    nums[index] = num;
}

/* ???????? index ?????? */
void removeItem(int* nums, int size, int index) {
    // ?????? index ??????????????????????????
    for (int i = index; i < size - 1; i++) {
        nums[i] = nums[i + 1];
    }
}

/* ???????? */
void traverse(int* nums, int size) {
    int count = 0;
    // ????????????????
    for (int i = 0; i < size; i++) {
        count++;
    }
}

/* ???????????????????? */
int find(int* nums, int size, int target) {
    for (int i = 0; i < size; i++) {
        if (nums[i] == target)
            return i;
    }
    return -1;
}


/* Driver Code */
int main() {
    /* ?????????? */
    int size = 5;
    int arr[5];
    printf("???? arr = ");
    printArray(arr, size);

    int nums[5] = { 1, 3, 2, 5, 4 };
    printf("???? nums = ");
    printArray(nums, size);
    
    /* ???????? */
    int randomNum = randomAccess(nums, size);
    printf("?? nums ?????????????? %d", randomNum);
    
    /* ???????? */
    int enlarge = 3;
    int* res = extend(nums, size, enlarge);
    size += enlarge;
    printf("???????????????? 8 ?????? nums = ");
    printArray(res, size);
    
    /* ???????? */
    insert(res, size, 6, 3);
    printf("?????? 3 ?????????? 6 ?????? nums = ");
    printArray(res, size);

    /* ???????? */
    removeItem(res, size, 2);
    printf("???????? 2 ?????????????? nums = ");
    printArray(res, size);
    
    /* ???????? */
    traverse(res, size);
    
    /* ???????? */
    int index = find(res, size, 3);
    printf("?? res ?????????? 3 ?????????? = %d\n", index);

    return 0;
}
